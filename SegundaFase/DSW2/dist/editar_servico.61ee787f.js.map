{"mappings":"AAAA,SAAS,gBAAgB,CAAC,oBAAoB;IAC1C,MAAM,OAAO,SAAS,cAAc,CAAC;IACrC,MAAM,aAAa,SAAS,cAAc,CAAC;IAC3C,MAAM,YAAY,SAAS,cAAc,CAAC;IAE1C,MAAM,SAAS,IAAI,gBAAgB,OAAO,QAAQ,CAAC,MAAM;IACzD,MAAM,YAAY,OAAO,GAAG,CAAC;IAC7B,MAAM,YAAY,OAAO,GAAG,CAAC;IAE7B,IAAI,WACA,IAAI;QACA,MAAM,WAAW,MAAM,MAAM,CAAC,+BAA+B,EAAE,WAAW;QAC1E,MAAM,UAAU,MAAM,SAAS,IAAI;QAEnC,SAAS,cAAc,CAAC,cAAc,KAAK,GAAG,QAAQ,EAAE;QACxD,SAAS,cAAc,CAAC,cAAc,KAAK,GAAG;QAC9C,SAAS,cAAc,CAAC,QAAQ,KAAK,GAAG,QAAQ,IAAI;QACpD,SAAS,cAAc,CAAC,QAAQ,KAAK,GAAG,QAAQ,IAAI;QACpD,SAAS,cAAc,CAAC,aAAa,KAAK,GAAG,QAAQ,SAAS;QAC9D,SAAS,cAAc,CAAC,aAAa,KAAK,GAAG,QAAQ,SAAS;QAC9D,SAAS,cAAc,CAAC,SAAS,KAAK,GAAG,QAAQ,KAAK,IAAI;IAC9D,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,gCAA6B;IAC/C;IAGJ,KAAK,gBAAgB,CAAC,UAAU,OAAO;QACnC,MAAM,cAAc;QAEpB,MAAM,oBAAoB;YACtB,IAAI;YACJ,YAAY;YACZ,MAAM,SAAS,cAAc,CAAC,QAAQ,KAAK;YAC3C,MAAM,SAAS,cAAc,CAAC,QAAQ,KAAK;YAC3C,WAAW,SAAS,cAAc,CAAC,aAAa,KAAK;YACrD,WAAW,SAAS,cAAc,CAAC,aAAa,KAAK;YACrD,OAAO,SAAS,cAAc,CAAC,SAAS,KAAK,IAAI;QACrD;QAEA,IAAI;YACA,MAAM,MAAM,CAAC,+BAA+B,EAAE,WAAW,EAAE;gBACvD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACzB;YACA,MAAM;YACN,OAAO,QAAQ,CAAC,IAAI,GAAG,CAAC,qBAAqB,EAAE,WAAW;QAC9D,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,iCAA8B;QAChD;IACJ;IAEA,WAAW,gBAAgB,CAAC,SAAS;QACjC,IAAI,QAAQ,oDACR,IAAI;YACA,MAAM,MAAM,CAAC,+BAA+B,EAAE,WAAW,EAAE;gBAAE,QAAQ;YAAS;YAC9E,MAAM;YACN,OAAO,QAAQ,CAAC,IAAI,GAAG,CAAC,qBAAqB,EAAE,WAAW;QAC9D,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,+BAA4B;QAC9C;IAER;IAEA,UAAU,gBAAgB,CAAC,SAAS;QAChC,OAAO,QAAQ,CAAC,IAAI,GAAG,CAAC,qBAAqB,EAAE,WAAW;IAC9D;AACJ","sources":["js/editar_servico.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", async () => {\r\n    const form = document.getElementById(\"servico-form\");\r\n    const excluirBtn = document.getElementById(\"excluir-servico\");\r\n    const voltarBtn = document.getElementById(\"voltar\");\r\n    \r\n    const params = new URLSearchParams(window.location.search);\r\n    const idServico = params.get(\"id_servico\");\r\n    const idUsuario = params.get(\"id_usuario\");\r\n    \r\n    if (idServico) {\r\n        try {\r\n            const response = await fetch(`http://localhost:3000/servicos/${idServico}`);\r\n            const servico = await response.json();\r\n\r\n            document.getElementById(\"id_servico\").value = servico.id;\r\n            document.getElementById(\"id_usuario\").value = idUsuario;\r\n            document.getElementById(\"tipo\").value = servico.tipo;\r\n            document.getElementById(\"nome\").value = servico.nome;\r\n            document.getElementById(\"descricao\").value = servico.descricao;\r\n            document.getElementById(\"categoria\").value = servico.categoria;\r\n            document.getElementById(\"preco\").value = servico.preco || \"\";\r\n        } catch (error) {\r\n            console.error(\"Erro ao carregar serviço:\", error);\r\n        }\r\n    }\r\n\r\n    form.addEventListener(\"submit\", async (event) => {\r\n        event.preventDefault();\r\n\r\n        const servicoAtualizado = {\r\n            id: idServico,\r\n            id_usuario: idUsuario,\r\n            tipo: document.getElementById(\"tipo\").value,\r\n            nome: document.getElementById(\"nome\").value,\r\n            descricao: document.getElementById(\"descricao\").value,\r\n            categoria: document.getElementById(\"categoria\").value,\r\n            preco: document.getElementById(\"preco\").value || null,\r\n        };\r\n\r\n        try {\r\n            await fetch(`http://localhost:3000/servicos/${idServico}`, {\r\n                method: \"PUT\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify(servicoAtualizado),\r\n            });\r\n            alert(\"Serviço atualizado com sucesso!\");\r\n            window.location.href = `home.html?id_usuario=${idUsuario}`;\r\n        } catch (error) {\r\n            console.error(\"Erro ao atualizar serviço:\", error);\r\n        }\r\n    });\r\n\r\n    excluirBtn.addEventListener(\"click\", async () => {\r\n        if (confirm(\"Tem certeza que deseja excluir este serviço?\")) {\r\n            try {\r\n                await fetch(`http://localhost:3000/servicos/${idServico}`, { method: \"DELETE\" });\r\n                alert(\"Serviço excluído com sucesso!\");\r\n                window.location.href = `home.html?id_usuario=${idUsuario}`;\r\n            } catch (error) {\r\n                console.error(\"Erro ao excluir serviço:\", error);\r\n            }\r\n        }\r\n    });\r\n\r\n    voltarBtn.addEventListener(\"click\", () => {\r\n        window.location.href = `home.html?id_usuario=${idUsuario}`;\r\n    });\r\n});"],"names":[],"version":3,"file":"editar_servico.61ee787f.js.map","sourceRoot":"/__parcel_source_root/"}